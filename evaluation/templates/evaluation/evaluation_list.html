<!DOCTYPE html>
{% extends 'base.html' %}

{% block title %}My Evaluations{% endblock title %}

{% block head %}
    <link rel="stylesheet" href="../../static/evaluation/instructors/assets/css/pagination.css">
{% endblock head %}

    {% if messages %}
        <div style="display: flex;justify-content: center;margin: 22px;">
            <ul class="messages">
        </div>
    {% for message in messages %}
        <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
        </ul>
    {% endif %}

{% block body %}
    <h1 class="text-center m-5">My Evaluations</h1>
    {% for i in evaluation_list %}
        <div class="col-9 col-lg-7 col-xl-5 shadow" style="text-align: center;
        border-style: none;
        border-radius: 6px;
        background: #ffffff;
        padding: 12px;
        display: flex;
        margin: auto;
        margin-bottom: 16px;
        flex-direction: column;
        justify-content: center;
        align-items: center;">
            <img class="rounded-circle m-3 instructor_pic" style="width: 120px;height: 120px;margin-left: 22px;margin-right: 48px; border-radius: 60px;" src={{ i.instructor.profile_pic.url }} /> <br>
            <div><i class="fas fa-calendar-alt m-2" style="color: #7b7c7e; font-size: 20px; margin-right: 8px;"></i><strong style="color: rgb(80 77 77);">Date</strong></div>
            <h5 style="border-style: none; color: rgb(13, 132, 230); font-size: 25px; margin-bottom: 16px;">{{ i.date }}</h5>
            <div><i class="fas fa-id-card m-2" style="color: #7b7c7e; font-size: 20px; margin-right: 8px;"></i><strong style="color: rgb(80 77 77);">Instructor name</strong></div>
            <h5 style="border-style: none; color: rgb(13, 132, 230); font-size: 25px; margin-bottom: 16px;">{{ i.instructor.name }} </h5>
            <div><i class="fas fa-building m-2" style="color: #7b7c7e; font-size: 20px; margin-right: 8px;"></i><strong style="color: rgb(80 77 77);">Department</strong></div>
            <h5 style="border-style: none; color: rgb(13, 132, 230); font-size: 25px; margin-bottom: 16px;">({{ i.instructor.department }}) </h5>
            <h5>Comment</h5><div style="word-break: break-all; padding: 16px;color:rgb(13, 132, 230);">{{ i.comment }}</div> 
            
            <br>    
            <a href="{% url 'evaluation:evaluation_form' i.pk %}?next={% url 'evaluation:evaluation_list' user.pk %}">
            <div class="m-1" style="display: flex;align-items: center; justify-content: center ;font-size:20px; margin: 8px; background-color: rgb(25 151 255);; width: 160px; height: 60px; border-radius: 30px; color: white; margin: auto;"><i class="fas fa-edit" style="margin-right: 8px;"></i>Edit</div></a>
            <a href="{% url 'evaluation:evaluation_delete' i.pk %}?next={% url 'evaluation:evaluation_list' user.pk %}">
              <div class="m-1" style="display: flex;align-items: center; justify-content: center ;font-size:20px; margin: 8px; background-color: rgb(255 73 118);; width: 160px; height: 60px; border-radius: 30px; color: white; margin: auto;"><i class="fas fa-trash-alt" style="margin-right: 8px;"></i>Delete</div></a>
        </div>
    {% empty %}
        <p>Oops!, It looks you haven't Evaluated yet.</p>
    {% endfor %}

    {% if is_paginated %}
        <div class="pagination_container">
          {% if page_obj.has_previous %}
            <a class="btn btn-outline-info mb-4" href="?{{ selected_search }}&page=1">First</a>
            <a class="btn btn-outline-info mb-4" href="?{{ selected_search }}&page={{ page_obj.previous_page_number }}">Previous</a>
          {% endif %}

          {% for num in page_obj.paginator.page_range %}
            {% if page_obj.number == num %}
              <a class="btn btn-info mb-4" href="?{{ selected_search }}&page={{ num }}">{{ num }}</a>
            {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
              <a class="btn btn-outline-info mb-4" href="?{{ selected_search }}&page={{ num }}">{{ num }}</a>
            {% endif %}
          {% endfor %}

          {% if page_obj.has_next %}
            <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.next_page_number }}"> Next </a>
            <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.paginator.num_pages }}">Last</a>
          {% endif %}
        </div>
    {% endif %}
{% endblock body %}