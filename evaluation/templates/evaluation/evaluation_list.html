<!DOCTYPE html>
{% extends 'base.html' %}

{% block title %}My Evaluations{% endblock title %}

{% block head %}
    <link rel="stylesheet" href="../../static/evaluation/instructors/assets/css/pagination.css">
{% endblock head %}

    {% if messages %}
        <div style="display: flex;justify-content: center;margin: 22px;">
            <ul class="messages">
        </div>
    {% for message in messages %}
        <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
        </ul>
    {% endif %}

{% block body %}
    <h1>My Evaluations:</h1>
    {% for i in evaluation_list %}
        <div class="col-9  m-auto" style="text-align: center;border-style: none;box-shadow: 0px 0px 4px 1px;
        border-radius: 16px; background: #ffffff; ">
            <img class="rounded-circle" style="text-align: center;background: var(--dark);border-style: solid;border-radius: 10px;height: 
            80px;width: 80px;margin-top: 30px;" src={{ i.instructor.profile_pic.url }} /> <br>

            <h5 style="border-style: none;">{{ i.date }}</h5>
            <h5 style="border-style: none;">{{ i.instructor.name }} ({{ i.instructor.department }})</h5>
            <h3>Comment: </h3> {{ i.comment }}
            
            <br>    
            <a href="{% url 'evaluation:evaluation_form' i.pk %}?next={% url 'evaluation:evaluation_list' user.pk %}">
            <p style="font-size:12pt">EDIT</p></a>
            <a href="{% url 'evaluation:evaluation_delete' i.pk %}?next={% url 'evaluation:evaluation_list' user.pk %}">
            <p style="font-size:12pt">DELELTE!</p></a>
        </div>
    {% empty %}
        <p>Oohps!, It looks u haven't Evaluate yet.</p>
    {% endfor %}

    {% if is_paginated %}
        <div class="pagination_container">
          {% if page_obj.has_previous %}
            <a class="btn btn-outline-info mb-4" href="?{{ selected_search }}&page=1">First</a>
            <a class="btn btn-outline-info mb-4" href="?{{ selected_search }}&page={{ page_obj.previous_page_number }}">Previous</a>
          {% endif %}

          {% for num in page_obj.paginator.page_range %}
            {% if page_obj.number == num %}
              <a class="btn btn-info mb-4" href="?{{ selected_search }}&page={{ num }}">{{ num }}</a>
            {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
              <a class="btn btn-outline-info mb-4" href="?{{ selected_search }}&page={{ num }}">{{ num }}</a>
            {% endif %}
          {% endfor %}

          {% if page_obj.has_next %}
            <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.next_page_number }}"> Next </a>
            <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.paginator.num_pages }}">Last</a>
          {% endif %}
        </div>
    {% endif %}
{% endblock body %}